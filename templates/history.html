{% extends "layout.html" %}
{% block content %}
<div class="card card-glass shadow-lg p-4">
  <h4 class="mb-3 text-primary">ðŸ“œ Outing History - {{ student.name }}</h4>
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-primary text-center">
        <tr>
          <th>Reason</th>
          <th>Out Time</th>
          <th>Return Time</th>
          <th>Duration</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for o in outings %}
          <tr>
            <td class="fw-semibold"><font color=red>{{ o.reason }}</font></td>
            <td><font color=purple>{{ o.time_out.strftime("%d %b %Y, %I:%M %p") if o.time_out else "N/A" }}</font></td>
            <td><font color=purple>
              {% if o.time_in %}
                {{ o.time_in.strftime("%d %b %Y, %I:%M %p") }}
              {% else %}
                <span class="badge bg-warning text-dark">Not Returned</span>
              {% endif %}</font>
            </td>
            <td>
              {% if o.time_in %}
                <span class="badge bg-info text-dark">
                  {{ o.time_out|duration(o.time_in) }}
                </span>
              {% else %}
                <span class="text-muted">--</span>
              {% endif %}
            </td>
            <td>
              {% if o.time_in %}
                <span class="badge bg-success">Returned</span>
              {% else %}
                <span class="badge bg-danger">Outside</span>
              {% endif %}
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="5" class="text-center text-muted py-4">
              No outing history available
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Custom CSS -->
<style>
.card-glass {
  border: none;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(12px);
  overflow: hidden;
}

.table-hover tbody tr:hover {
  background-color: rgba(102, 126, 234, 0.1);
  transition: 0.2s ease-in-out;
}
</style>
{% endblock %}
